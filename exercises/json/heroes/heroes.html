<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">

    <title>Our superheroes</title>

    <link href="https://fonts.googleapis.com/css?family=Faster+One" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="script.js"></script>
  </head>

  <body>

      <header>

      </header>

      <section>

      </section>

      <script>
      
      // variables
      var header = document.querySelector("header");
      var section = document.querySelector("section");
      
      // URL for the request
      var requestURL =
        "https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json";

        // Create a request object
        var request = new XMLHttpRequest();
        request.open("GET", requestURL);

        request.responseType = "json";
        request.send();

        // Wait for the request to be returned
        request.onload = function () {
        var superHeroes = request.response;
        populateHeader(superHeroes);
        showHeroes(superHeroes);
   
      };

      // Function to populate the header
      function populateHeader(jsonObj) {
        // Create a <h1> element
        var myH1 = document.createElement("h1");
        myH1.textContent = jsonObj["squadName"];
        header.appendChild(myH1);
        
        // Create a <p> element
        var myPara = document.createElement("p");
        myPara.textContent = "Hometown: " + jsonObj["homeTown"] + jsonObj["formed"];
        header.appendChild(myPara);
      }


        // Function to show heroes
        // First member
        function showHeroes(jsonObj) {
          // Create a <h2> element
          var myH2 = document.createElement("h2");
          myH2.textContent = jsonObj["members"][0]["name"];
          section.appendChild(myH2);

          // Create a <p> element for secret identity
          var myPara2 = document.createElement("p");
          myPara2.textContent = `Secret identity: ${jsonObj["members"][0]["secretIdentity"]}`;
          section.appendChild(myPara2);

          // Create a <p> element for age
          var myPara3 = document.createElement("p");
          myPara3.textContent = `Age: ${jsonObj["members"][0]["age"]}`;
          section.appendChild(myPara3);

          // Create p element for superpowers
          var myPara4 = document.createElement("p");
          myPara4.textContent = `Superpowers:`;
          section.appendChild(myPara4);
          
       

          // Create li element for superpowers
          var MyLi = document.createElement("li");
          MyLi.textContent = `
          ${jsonObj["members"][0]["powers"][0]
          }`;
          section.appendChild(MyLi);

          // Create li element for superpowers
          var MyLi = document.createElement("li");
          MyLi.textContent = `
          ${jsonObj["members"][0]["powers"][1]
            }`;
          section.appendChild(MyLi);

          // Create li element for superpowers
          var MyLi = document.createElement("li");
          MyLi.textContent = `
          ${jsonObj["members"][0]["powers"][2]
            }`;
          section.appendChild(MyLi);


          // Second member
          // Create a <h2> element
          var myH2 = document.createElement("h2");
          myH2.textContent = jsonObj["members"][1]["name"];
          section.appendChild(myH2);

          // Create a <p> element for secret identity
          var myPara2 = document.createElement("p");
          myPara2.textContent = `Secret identity: ${jsonObj["members"][1]["secretIdentity"]}`;
          section.appendChild(myPara2);

          // Create a <p> element for age
          var myPara3 = document.createElement("p");
          myPara3.textContent = `Age: ${jsonObj["members"][1]["age"]}`;
          section.appendChild(myPara3);

          // Create p element for superpowers
          var myPara4 = document.createElement("p");
          myPara4.textContent = `Superpowers:`;
          section.appendChild(myPara4);



          // Create li element for superpowers
          var MyLi = document.createElement("li");
          MyLi.textContent = `
          ${jsonObj["members"][1]["powers"][0]
            }`;
          section.appendChild(MyLi);

          // Create li element for superpowers
          var MyLi = document.createElement("li");
          MyLi.textContent = `
          ${jsonObj["members"][1]["powers"][1]
            }`;
          section.appendChild(MyLi);

          // Create li element for superpowers
          var MyLi = document.createElement("li");
          MyLi.textContent = `
          ${jsonObj["members"][1]["powers"][2]
            }`;
          section.appendChild(MyLi);

          // Third member
          // Create a <h2> element
          var myH2 = document.createElement("h2");
          myH2.textContent = jsonObj["members"][2]["name"];
          section.appendChild(myH2);

          // Create a <p> element for secret identity
          var myPara2 = document.createElement("p");
          myPara2.textContent = `Secret identity: ${jsonObj["members"][2]["secretIdentity"]}`;
          section.appendChild(myPara2);

          // Create a <p> element for age
          var myPara3 = document.createElement("p");
          myPara3.textContent = `Age: ${jsonObj["members"][2]["age"]}`;
          section.appendChild(myPara3);

          // Create p element for superpowers
          var myPara4 = document.createElement("p");
          myPara4.textContent = `Superpowers:`;
          section.appendChild(myPara4);
          
       

          // Create li element for superpowers
          var MyLi = document.createElement("li");
          MyLi.textContent = `
          ${jsonObj["members"][2]["powers"][0]
          }`;
          section.appendChild(MyLi);

          // Create li element for superpowers
          var MyLi = document.createElement("li");
          MyLi.textContent = `
          ${jsonObj["members"][2]["powers"][1]
            }`;
          section.appendChild(MyLi);

          // Create li element for superpowers
          var MyLi = document.createElement("li");
          MyLi.textContent = `
          ${jsonObj["members"][2]["powers"][2]
            }`;
          section.appendChild(MyLi);

          // Create li element for superpowers
          var MyLi = document.createElement("li");
          MyLi.textContent = `
          ${jsonObj["members"][2]["powers"][3]
            }`;
          section.appendChild(MyLi);


          // Create li element for superpowers
          var MyLi = document.createElement("li");
          MyLi.textContent = `
          ${jsonObj["members"][2]["powers"][4]
            }`;
          section.appendChild(MyLi);




        }
   
      </script>
  </body>
</html>